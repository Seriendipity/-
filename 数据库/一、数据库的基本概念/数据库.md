
# 1.四个基本概念

> 1. **数据（Data）**：存储在计算机中的基本对象，描述事物的符号记录。
> 2. **数据库（DataBase）**：长期存储在计算机内，有组织的可共享的大量数据的集合。
>
> > 用户数据：逻辑上相关的数据，包括实体和属性。eg：Grade = 90
> >
> > 元数据：是描述数据的数据。eg： int Grade
>
> 3. **数据库管理系统（DBMS）**：一个能够使用户定义、创建、维护和控制对数据库访问权限的软件系统
>
>    > 数据定义语言（DDL）：定义数据类型、结构和数据完整性
>    >
>    > 数据操纵语言（DML）：增删改查
>    >
>    > 对数据库的访问权限：如安全系统、完整性系统、并发控制系统、恢复系统
>
>    **优点**
>
>    > 减少数据冗余、保证数据一致性、数据共享、提高了安全性和数据约束等
>
>    **缺点**
>
>    > 复杂、内存大、额外内存等
>
> 4. **数据库系统（DBS）**：由四部分组成
>
>    > 数据、人、硬件、软件

# 二、数据模型

​	数据模型是一个对真实世界的模拟。因为真实世界中的对象不能够被计算机所处理，所以对象需要转换成计算机能够处理的数据，数据模型就是一个用来抽象、表示和处理真实世界中物体的工具。

​	**数据模型是DBS的核心** 。数据模型主要由三部分组成。

> 数据结构（Data Structure）、数据操纵（Data Manipulation）、数据完整性（Data Integrity）

数据模型共有**两种类型**：

> **概念模型（也叫信息模型）**：用于设计数据库
>
> **结构数据模型（也叫数据模型）**：分为两类
>
> > **逻辑数据模型**：不涉及物理细节，主要是DBMS的实现。包括网状模型、关系模型、层次模型等。
> >
> > **物理数据模型**：数据的最底层抽象，涉及具体实现细节。

即，共有三个世界：

> 真实世界、信息世界、物理世界

$$
数据模型 
\begin{cases}
信息世界\quad 概念模型 \\
机器世界 \begin{cases}
	逻辑模型\\
	物理模型\\
\end{cases}
\end{cases}
$$

因此，数据由真实世界转换到信息世界的概念模型，然后由概念模型转换到机器世界的逻辑模型和物理模型。

## 概念模型

> 用于设计数据库，通常用ER图来表示，与DBMS和实现细节是无关的，独立的。

其中包括实体、属性、关系、超码、实体类型、实体集等。

**概念建模** 的结果是一个概念模型。

## 逻辑模型

> 告诉DBMS底层的数据模型

其中包括层次模型、网状模型、关系模型、面向对象模型、关系模型、半结构化模型等。

---

**逻辑模型和物理模型的区别：**

逻辑模型负责给出底层实现的数据结构。eg：student（name，num）

物理模型负责实现该数据结构。create table（name varchar(20),num int）

# 三、数据库系统的结构

## 1.模式

​	在数据库中，模式一个很重要的概念，模式是数据库的全局结构，描述数据库的类型，不包括具体的值，它是静态的，而值是动态的。**模式是“型”**

## 2.实例

​	在数据库的某一个时间点的数据叫做一个实例。换言之，实例是某一个模式的具体的值。**实例是“值”**

举个栗子：

模式：Student（Sno，Sname，age，Sex，Dept）

实例：

| Sno    | Sname | age  | Sex  | Dept |
| ------ | ----- | ---- | ---- | ---- |
| 111111 | 张三  | 18   | 男   | 软件 |
| 111112 | 张四  | 18   | 男   | 经管 |
| ...    | ...   | ...  | ...  | ...  |
| 120000 | 赵宣  | 18   | 女   | 经管 |

> 一个模式可以有若干个实例，每个实例可以是不同的。

## 3.数据库的三层结构

> 从上到下依次是：外模式、概念模式（也称模式）、内模式

**概念模式**：是整个数据库的 **全局逻辑结构** 。描述数据在数据库中的存储和数据之间的关系，与数据存储的实现无关。***一般而言，一个数据库中只有一个概念模式*** 。

**外模式**：是整个数据库的 **局部逻辑结构** 。他是用户关于数据库的 **视图** 。外模式通常是概念模式的一个子集，或者是概念模式由概念模式计算而来的。**一个数据库可以有很多的外模式**。通常为：视图。

**内模式：** 是整个数据库的 **全局物理结构** 。它是数据库在计算机上的物理表示形式，描述了数据是如何存储的。通常包括：为数据和索引开辟的内存空间、描述存储的记录（存储大小和数据项）、数据压缩和数据加密技术。

举个栗子：

外模式：view_1(snum,sname,age,addr)     view_2(snum,sname,cname,grade)

内模式：student（snum，sname，Birth_year，addr，sex）

​		Course（cnum，cname，credit）

​		sc（snum，cnum，grade）

内模式：具体实现细节。

---

其中，***模式改变不会影响外模式，内模式改变不会影响模式*** 。也就是说，上层不受下层的改变而改变，这也叫做 ***数据独立性*** 。

> **注意**：数据独立性 **不是** 数据和数据之间的独立性，**而是** 数据和程序之间的独立性。

数据独立性分为两类：逻辑数据独立性、物理数据独立性。

***数据独立性由二级映像来保证。***

> **外模式/模式映像** （external/conceptual mapping）
>
> **模式/内模式映像** （conceptual/internal mapping）



逻辑数据独立性：指的是模式的改变不会影响外模式。

物理数据独立性：指的是内模式的改变不会影响模式。



举个栗子：

**逻辑数据独立性**：![image-20240606225151217](C:\Users\MHB\Desktop\1.png)

**物理数据独立性：**

​	数据存储由文件存储改成了B+树存储，不会影响模式。

---

**区分一下概念模式和概念模型：**

> **概念模式：**是数据库的全局逻辑结构，使用DDL来描述，属于机器世界。
>
> **概念模型：**是人大脑的抽象，属于信息世界，与具体的DBMS无关，使用ER图来进行描述。

区别：他们的描述方式是不同的，概念模型可以转化为概念模式。

联系：他们描述的是同一个对象。

