
# 关系数据模型

​	首先，关系数据模型是一种数据模型。因此，也分为三部分。

> 顾名思义，关系数据模型的 **数据结构** 为 **关系** ——一个二维表格
>
> **数据操纵** ：增删改查
>
> **完整性**：实体完整性、参照完整性、用户自定义完整性。

## 1.关系

​	**关系** 是一个有行和列的表格，仅适用于数据库的逻辑结构。

> **属性** 是关系的一个列名
>
> **域** 是一个属性或者多个属性允许赋值的集合。
>
> **元组** 是一个关系的一行数据。
>
> **度** 是一个关系中属性的个数，即列名的个数。
>
> **基数** 是关系中元组的个数。

​	**关系数据库是一个具有不同名称的规范化关系的集合**. 每一个关系的名称必须是惟一的。

举个栗子：

​								**Student**

| Sno   | Sname | age  | Sex  | dept |
| ----- | ----- | ---- | ---- | ---- |
| 11111 | 张三  | 19   | 男   | 软件 |
| 11112 | 李四  | 18   | 男   | 经管 |
| ...   | ...   | ...  | ...  | ...  |
| 12000 | 王薇  | 18   | 女   | 经管 |

属性为：Sno，Sname，Age，Sex，Dept

度为5、元组个数为100，关系名为Student，元组为关系中的每一行，age的域为假设为【15,45】（即允许取值的范围）。

---

***等价描述***（每一行的叙述是等价的）

| 关系 | 表   | 文件 |
| ---- | ---- | ---- |
| 元组 | 行   | 记录 |
| 属性 | 列   | 域   |

---

**关系的特点**

> 表名彼此不同，并且唯一
>
> 每一个表中的元素都是原子，简言之不允许表中有表
>
> 每一个属性都有一个惟一的名字
>
> 每一个属性的值来自一个相同的域
>
> 每一个元祖都是不同的，不会有重复的元组在表中出现
>
> 属性的顺序可以任意。元组的顺序也可以任意（但是在效率上可能有不一样）

## 2.值和型

> 关系模式：由一组属性和域名对定义的命名关系。eg：student（sno，sname，DOB）

关系模式是 **型** ，关系是 **值** 。

也就是说，**关系是一个表格，而关系模式是 表头（定义）＋表名**

---

> 关系数据库模式：关系模式的集合，每个关系模式的名字都是惟一的。

关系数据库模式是 **型** ，关系数据库是 **值** 。

也就是说，**关系数据库模式是数据库的定义，每个关系数据库是具体的数据。**

---

举个例子：以图书馆为例

一个空的书架： ***关系模式*** 

书架上每一行的标签： ***属性名***

一个图书馆只有若干空的书架： ***关系数据库模式***

一个暑假装满书： **关系**

一个图书馆有若干装满书的书架：***关系数据库***

## 3.关键字

> **超键** ：一个能够唯一确定一行元组的属性或者属性组。
>
> **候选键**（CK）：超键中能够唯一识别一行元组的属性组且其真子集不能唯一识别一行元组。简言之，超键中能够用最少属性唯一确定一个元组的为候选键。**（一个关系中可能有多个候选键）**
>
> **主键** （PK）：从候选键中选出一个作为主键。**（一个关系中只有一个主键）**
>
> **备用键**（AK）：候选键中没被选择的键作为候选键。 其中 **PK + AK = CK**
>
> **主属性** ：所有候选码中的属性都是主属性。
>
> **外键** ：参照其他表的属性。
>
> **null**：表示当前属性是未知的或者不合适的，不能用0或者空格代替。

## 4.关系完整性

> **实体完整性**：能唯一识别一行元组的属性不能为null **（尤其主键属性不能为空）**
>
> **参照完整性**：如果关系中存在外键，要么外键匹配参照表的一个候选键（不一定是主键），要么为null。其中，外键的名称不必须和该表中属性名相同。
>
> **用户自定义的完整性**：由用户根据实际需要自己定义的完整性。比如：教授的工资不会低于副教授的工资等。

## 5.关系代数



